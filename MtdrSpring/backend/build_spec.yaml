version: 0.1
component: build
timeoutInSeconds: 1000
shell: bash
failImmediatelyOnError: true

steps:
  - type: Command
    name: Install the latest Oracle GraalVM for JDK 20 - JDK and Native Image
    command: |
      yum -y install graalvm-20-native-image
  
  - type: Command
    name: Set the PATH here
    command: |
      export PATH=$JAVA_HOME/bin:$PATH  
    
  - type: Command
    name: Build
    command: |
      cd /workspace/Botacle/MtdrSpring/backend/
      chmod +x *.sh
      source build.sh
    
env:
  variables:
    "JAVA_HOME" : "/usr/lib64/graalvm/graalvm-java20"
