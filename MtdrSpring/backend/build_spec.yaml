version: 0.1
component: build
timeoutInSeconds: 1000
shell: bash
failImmediatelyOnError: true

steps:
  - type: Command
    name: "Install the latest Oracle GraalVM for JDK 20 - JDK and Native Image"
    command: |
      yum -y install graalvm-20-native-image
  
  - type: Command
    name: "Set the PATH here"
    command: |
      export PATH=$JAVA_HOME/bin:$PATH  
    
  - type: Command
    name: compile
    command: mvn -f /workspace/Botacle/MtdrSpring/backend/pom.xml compile
    
env:
  variables:
    "JAVA_HOME" : "/usr/lib64/graalvm/graalvm-java20"
